Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create
  ~ update in-place
-/+ destroy and then create replacement

Terraform will perform the following actions:

  # azurerm_dev_test_global_vm_shutdown_schedule.vm-autoshutdown["STINB2-MGT01"] will be created
  + resource "azurerm_dev_test_global_vm_shutdown_schedule" "vm-autoshutdown" {
      + daily_recurrence_time = "2000"
      + enabled               = true
      + id                    = (known after apply)
      + location              = "southcentralus"
      + tags                  = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + timezone              = "Central Standard Time"
      + virtual_machine_id    = (known after apply)

      + notification_settings {
          + enabled         = false
          + time_in_minutes = 30
        }
    }

  # azurerm_managed_disk.vm-sql-disks["data"] will be updated in-place
  ~ resource "azurerm_managed_disk" "vm-sql-disks" {
      ~ disk_size_gb                     = 2048 -> 1000
        id                               = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/disks/STINB2-SQL01-disk-SQLVMDATA01"
        name                             = "STINB2-SQL01-disk-SQLVMDATA01"
        tags                             = {
            "Migrate Project" = "INT-MigProject-01"
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (27 unchanged attributes hidden)
    }

  # azurerm_managed_disk.vm-sql-disks["logs"] will be created
  + resource "azurerm_managed_disk" "vm-sql-disks" {
      + create_option                 = "Empty"
      + disk_iops_read_only           = (known after apply)
      + disk_iops_read_write          = (known after apply)
      + disk_mbps_read_only           = (known after apply)
      + disk_mbps_read_write          = (known after apply)
      + disk_size_gb                  = 100
      + id                            = (known after apply)
      + location                      = "southcentralus"
      + logical_sector_size           = (known after apply)
      + max_shares                    = (known after apply)
      + name                          = "STINB2-SQL01-disk-SQLVMLOGS"
      + public_network_access_enabled = true
      + resource_group_name           = "int-staging-rg"
      + source_uri                    = (known after apply)
      + storage_account_type          = "Standard_LRS"
      + tags                          = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + tier                          = (known after apply)
    }

  # azurerm_network_interface.pooled_host_pool_vm_nics["STIN-AVD-MgP-1"] will be created
  + resource "azurerm_network_interface" "pooled_host_pool_vm_nics" {
      + applied_dns_servers           = (known after apply)
      + dns_servers                   = (known after apply)
      + enable_accelerated_networking = false
      + enable_ip_forwarding          = false
      + id                            = (known after apply)
      + internal_dns_name_label       = (known after apply)
      + internal_domain_name_suffix   = (known after apply)
      + location                      = "southcentralus"
      + mac_address                   = (known after apply)
      + name                          = "STIN-AVD-MgP-1-nic"
      + private_ip_address            = (known after apply)
      + private_ip_addresses          = (known after apply)
      + resource_group_name           = "int-staging-rg"
      + tags                          = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + virtual_machine_id            = (known after apply)

      + ip_configuration {
          + gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          + name                                               = "STIN-AVD-MgP-1-nic-ip"
          + primary                                            = (known after apply)
          + private_ip_address                                 = (known after apply)
          + private_ip_address_allocation                      = "Dynamic"
          + private_ip_address_version                         = "IPv4"
          + subnet_id                                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-mgmt-scus-snet"
        }
    }

  # azurerm_network_interface.pooled_host_pool_vm_nics["STIN-AVD-MgP-2"] will be created
  + resource "azurerm_network_interface" "pooled_host_pool_vm_nics" {
      + applied_dns_servers           = (known after apply)
      + dns_servers                   = (known after apply)
      + enable_accelerated_networking = false
      + enable_ip_forwarding          = false
      + id                            = (known after apply)
      + internal_dns_name_label       = (known after apply)
      + internal_domain_name_suffix   = (known after apply)
      + location                      = "southcentralus"
      + mac_address                   = (known after apply)
      + name                          = "STIN-AVD-MgP-2-nic"
      + private_ip_address            = (known after apply)
      + private_ip_addresses          = (known after apply)
      + resource_group_name           = "int-staging-rg"
      + tags                          = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + virtual_machine_id            = (known after apply)

      + ip_configuration {
          + gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          + name                                               = "STIN-AVD-MgP-2-nic-ip"
          + primary                                            = (known after apply)
          + private_ip_address                                 = (known after apply)
          + private_ip_address_allocation                      = "Dynamic"
          + private_ip_address_version                         = "IPv4"
          + subnet_id                                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-mgmt-scus-snet"
        }
    }

  # azurerm_network_interface.pooled_host_pool_vm_nics["STIN-AVD-MgS-1"] will be created
  + resource "azurerm_network_interface" "pooled_host_pool_vm_nics" {
      + applied_dns_servers           = (known after apply)
      + dns_servers                   = (known after apply)
      + enable_accelerated_networking = false
      + enable_ip_forwarding          = false
      + id                            = (known after apply)
      + internal_dns_name_label       = (known after apply)
      + internal_domain_name_suffix   = (known after apply)
      + location                      = "southcentralus"
      + mac_address                   = (known after apply)
      + name                          = "STIN-AVD-MgS-1-nic"
      + private_ip_address            = (known after apply)
      + private_ip_addresses          = (known after apply)
      + resource_group_name           = "int-staging-rg"
      + tags                          = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + virtual_machine_id            = (known after apply)

      + ip_configuration {
          + gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          + name                                               = "STIN-AVD-MgS-1-nic-ip"
          + primary                                            = (known after apply)
          + private_ip_address                                 = (known after apply)
          + private_ip_address_allocation                      = "Dynamic"
          + private_ip_address_version                         = "IPv4"
          + subnet_id                                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-mgmt-scus-snet"
        }
    }

  # azurerm_network_interface.vm-nics["ST-WEB01"] will be updated in-place
  ~ resource "azurerm_network_interface" "vm-nics" {
        id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkInterfaces/ST-WEB01-nic"
        name                          = "ST-WEB01-nic"
        tags                          = {
            "Migrate Project" = "INT-MigProject-01"
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (13 unchanged attributes hidden)

      - ip_configuration {
          - name                                               = "ST-WEB01-additional-ip-3" -> null
          - primary                                            = false -> null
          - private_ip_address                                 = "10.239.88.163" -> null
          - private_ip_address_allocation                      = "Static" -> null
          - private_ip_address_version                         = "IPv4" -> null
          - subnet_id                                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-dmz-scus-snet" -> null
            # (2 unchanged attributes hidden)
        }

        # (3 unchanged blocks hidden)
    }

  # azurerm_network_interface.vm-nics["STINB2-MGT01"] will be created
  + resource "azurerm_network_interface" "vm-nics" {
      + applied_dns_servers           = (known after apply)
      + dns_servers                   = (known after apply)
      + enable_accelerated_networking = false
      + enable_ip_forwarding          = false
      + id                            = (known after apply)
      + internal_dns_name_label       = (known after apply)
      + internal_domain_name_suffix   = (known after apply)
      + location                      = "southcentralus"
      + mac_address                   = (known after apply)
      + name                          = "STINB2-MGT01-nic"
      + private_ip_address            = (known after apply)
      + private_ip_addresses          = (known after apply)
      + resource_group_name           = "int-staging-rg"
      + tags                          = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + virtual_machine_id            = (known after apply)

      + ip_configuration {
          + gateway_load_balancer_frontend_ip_configuration_id = (known after apply)
          + name                                               = "STINB2-MGT01-nic-ip"
          + primary                                            = true
          + private_ip_address                                 = "10.239.89.51"
          + private_ip_address_allocation                      = "Static"
          + private_ip_address_version                         = "IPv4"
          + subnet_id                                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-internal-scus-snet"
        }
    }

  # azurerm_network_security_rule.nsg_rules["intertel-staging-dmz-scus-nsg_ALL_to_WEB01_HTTP"] will be updated in-place
  ~ resource "azurerm_network_security_rule" "nsg_rules" {
      ~ destination_address_prefixes               = [
          + "10.239.88.163",
            # (3 unchanged elements hidden)
        ]
        id                                         = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkSecurityGroups/intertel-staging-dmz-scus-nsg/securityRules/ALL_to_WEB01_HTTP"
        name                                       = "ALL_to_WEB01_HTTP"
        # (16 unchanged attributes hidden)
    }

  # azurerm_network_security_rule.nsg_rules["intertel-staging-dmz-scus-nsg_WEB01_to_SQL_MSSQL_TCP"] will be updated in-place
  ~ resource "azurerm_network_security_rule" "nsg_rules" {
        id                                         = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkSecurityGroups/intertel-staging-dmz-scus-nsg/securityRules/WEB01_to_SQL_MSSQL_TCP"
        name                                       = "WEB01_to_SQL_MSSQL_TCP"
      ~ source_address_prefixes                    = [
          + "10.239.88.163",
            # (3 unchanged elements hidden)
        ]
        # (16 unchanged attributes hidden)
    }

  # azurerm_network_security_rule.nsg_rules["intertel-staging-inernal-scus-nsg_WEB01_to_SQL_MSSQL"] will be updated in-place
  ~ resource "azurerm_network_security_rule" "nsg_rules" {
        id                                         = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkSecurityGroups/intertel-staging-inernal-scus-nsg/securityRules/WEB01_to_SQL_MSSQL"
        name                                       = "WEB01_to_SQL_MSSQL"
      ~ source_address_prefixes                    = [
          + "10.239.88.163",
            # (3 unchanged elements hidden)
        ]
        # (16 unchanged attributes hidden)
    }

  # azurerm_private_dns_a_record.dns_file_share will be updated in-place
  ~ resource "azurerm_private_dns_a_record" "dns_file_share" {
        id                  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/A/stgintfiles01"
        name                = "stgintfiles01"
      ~ records             = [
          - "10.239.89.20",
        ] -> (known after apply)
        tags                = {}
        # (4 unchanged attributes hidden)
    }

  # azurerm_private_dns_a_record.dns_profile_share will be updated in-place
  ~ resource "azurerm_private_dns_a_record" "dns_profile_share" {
        id                  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/A/stgintprofiles01"
        name                = "stgintprofiles01"
      ~ records             = [
          - "10.239.89.21",
        ] -> (known after apply)
        tags                = {}
        # (4 unchanged attributes hidden)
    }

  # azurerm_private_endpoint.file_endpoint must be replaced
-/+ resource "azurerm_private_endpoint" "file_endpoint" {
      ~ custom_dns_configs            = [
          - {
              - fqdn         = "stgintfiles01.file.core.windows.net"
              - ip_addresses = [
                  - "10.239.89.20",
                ]
            },
        ] -> (known after apply)
      ~ id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/privateEndpoints/stgintfiles01-pep01" -> (known after apply)
        name                          = "stgintfiles01-pep01"
      ~ network_interface             = [
          - {
              - id   = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkInterfaces/stgintfiles01-nic"
              - name = "stgintfiles01-nic"
            },
        ] -> (known after apply)
      ~ private_dns_zone_configs      = [] -> (known after apply)
      - tags                          = {} -> null
        # (4 unchanged attributes hidden)

      ~ ip_configuration {
          ~ member_name        = "file" -> (known after apply)
            name               = "stgintfiles01-ip-private"
            # (2 unchanged attributes hidden)
        }

      ~ private_service_connection {
            name                              = "stgintfiles01_psc"
          ~ private_connection_resource_id    = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintfiles01" -> (known after apply) # forces replacement
          ~ private_ip_address                = "10.239.89.20" -> (known after apply)
            # (4 unchanged attributes hidden)
        }
    }

  # azurerm_private_endpoint.profile_endpoint must be replaced
-/+ resource "azurerm_private_endpoint" "profile_endpoint" {
      ~ custom_dns_configs            = [
          - {
              - fqdn         = "stgintprofiles01.file.core.windows.net"
              - ip_addresses = [
                  - "10.239.89.21",
                ]
            },
        ] -> (known after apply)
      ~ id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/privateEndpoints/stgintprofiles01-pep01" -> (known after apply)
        name                          = "stgintprofiles01-pep01"
      ~ network_interface             = [
          - {
              - id   = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/networkInterfaces/devintprofiles01-nic"
              - name = "devintprofiles01-nic"
            },
        ] -> (known after apply)
      ~ private_dns_zone_configs      = [] -> (known after apply)
      - tags                          = {} -> null
        # (4 unchanged attributes hidden)

      ~ ip_configuration {
          ~ member_name        = "file" -> (known after apply)
            name               = "stgintprofiles01-ip-private"
            # (2 unchanged attributes hidden)
        }

      ~ private_service_connection {
            name                              = "stgintprofiles01_psc"
          ~ private_connection_resource_id    = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintprofiles01" -> (known after apply) # forces replacement
          ~ private_ip_address                = "10.239.89.21" -> (known after apply)
            # (4 unchanged attributes hidden)
        }
    }

  # azurerm_role_assignment.File_SMB_Contributor_Profile_ra must be replaced
-/+ resource "azurerm_role_assignment" "File_SMB_Contributor_Profile_ra" {
      ~ id                                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintprofiles01/providers/Microsoft.Authorization/roleAssignments/795c61ef-6b16-e655-9ac3-367810a584e7" -> (known after apply)
      ~ name                                   = "795c61ef-6b16-e655-9ac3-367810a584e7" -> (known after apply)
      ~ principal_type                         = "Group" -> (known after apply)
      ~ role_definition_id                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/providers/Microsoft.Authorization/roleDefinitions/0c867c2a-1d8c-454a-a3db-ab2ea1bdc8bb" -> (known after apply)
      ~ scope                                  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintprofiles01" -> (known after apply) # forces replacement
      + skip_service_principal_aad_check       = (known after apply)
        # (6 unchanged attributes hidden)
    }

  # azurerm_role_assignment.File_SMB_Contributor_file_ra must be replaced
-/+ resource "azurerm_role_assignment" "File_SMB_Contributor_file_ra" {
      ~ id                                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintfiles01/providers/Microsoft.Authorization/roleAssignments/a0b242bf-b606-7908-5bd1-a321a2aea00d" -> (known after apply)
      ~ name                                   = "a0b242bf-b606-7908-5bd1-a321a2aea00d" -> (known after apply)
      ~ principal_type                         = "Group" -> (known after apply)
      ~ role_definition_id                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/providers/Microsoft.Authorization/roleDefinitions/0c867c2a-1d8c-454a-a3db-ab2ea1bdc8bb" -> (known after apply)
      ~ scope                                  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Storage/storageAccounts/stgintfiles01" -> (known after apply) # forces replacement
      + skip_service_principal_aad_check       = (known after apply)
        # (6 unchanged attributes hidden)
    }

  # azurerm_role_assignment.pooled_host_pool_role_assign["STIN-AVD-MgP"] will be created
  + resource "azurerm_role_assignment" "pooled_host_pool_role_assign" {
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "2847240d-38f3-4bed-82de-d821af05904d"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Desktop Virtualization User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.pooled_host_pool_role_assign["STIN-AVD-MgS"] will be created
  + resource "azurerm_role_assignment" "pooled_host_pool_role_assign" {
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "caf20592-47e9-4528-9e29-e2b39502657b"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Desktop Virtualization User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # azurerm_role_assignment.pooled_host_pool_role_assign["STIN-AVD-Std"] must be replaced
-/+ resource "azurerm_role_assignment" "pooled_host_pool_role_assign" {
      ~ id                                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/applicationGroups/STIN-AVD-Std-dag/providers/Microsoft.Authorization/roleAssignments/bae99884-1ae1-3c44-0210-c635e37ed6bf" -> (known after apply)
      ~ name                                   = "bae99884-1ae1-3c44-0210-c635e37ed6bf" -> (known after apply)
      ~ principal_type                         = "Group" -> (known after apply)
      ~ role_definition_id                     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/providers/Microsoft.Authorization/roleDefinitions/1d18fff3-a72a-46b5-b4a9-0b38a3cd7e63" -> (known after apply)
      ~ scope                                  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/applicationGroups/STIN-AVD-Std-dag" -> (known after apply) # forces replacement
      + skip_service_principal_aad_check       = (known after apply)
        # (6 unchanged attributes hidden)
    }

  # azurerm_storage_account.file_storage_acc will be created
  + resource "azurerm_storage_account" "file_storage_acc" {
      + access_tier                       = (known after apply)
      + account_kind                      = "StorageV2"
      + account_replication_type          = "LRS"
      + account_tier                      = "Standard"
      + allow_nested_items_to_be_public   = true
      + cross_tenant_replication_enabled  = true
      + default_to_oauth_authentication   = false
      + enable_https_traffic_only         = true
      + id                                = (known after apply)
      + infrastructure_encryption_enabled = false
      + is_hns_enabled                    = false
      + large_file_share_enabled          = true
      + location                          = "southcentralus"
      + min_tls_version                   = "TLS1_2"
      + name                              = "stgintfiles01"
      + nfsv3_enabled                     = false
      + primary_access_key                = (sensitive value)
      + primary_blob_connection_string    = (sensitive value)
      + primary_blob_endpoint             = (known after apply)
      + primary_blob_host                 = (known after apply)
      + primary_connection_string         = (sensitive value)
      + primary_dfs_endpoint              = (known after apply)
      + primary_dfs_host                  = (known after apply)
      + primary_file_endpoint             = (known after apply)
      + primary_file_host                 = (known after apply)
      + primary_location                  = (known after apply)
      + primary_queue_endpoint            = (known after apply)
      + primary_queue_host                = (known after apply)
      + primary_table_endpoint            = (known after apply)
      + primary_table_host                = (known after apply)
      + primary_web_endpoint              = (known after apply)
      + primary_web_host                  = (known after apply)
      + public_network_access_enabled     = true
      + queue_encryption_key_type         = "Service"
      + resource_group_name               = "int-staging-rg"
      + secondary_access_key              = (sensitive value)
      + secondary_blob_connection_string  = (sensitive value)
      + secondary_blob_endpoint           = (known after apply)
      + secondary_blob_host               = (known after apply)
      + secondary_connection_string       = (sensitive value)
      + secondary_dfs_endpoint            = (known after apply)
      + secondary_dfs_host                = (known after apply)
      + secondary_file_endpoint           = (known after apply)
      + secondary_file_host               = (known after apply)
      + secondary_location                = (known after apply)
      + secondary_queue_endpoint          = (known after apply)
      + secondary_queue_host              = (known after apply)
      + secondary_table_endpoint          = (known after apply)
      + secondary_table_host              = (known after apply)
      + secondary_web_endpoint            = (known after apply)
      + secondary_web_host                = (known after apply)
      + sftp_enabled                      = false
      + shared_access_key_enabled         = true
      + table_encryption_key_type         = "Service"
      + tags                              = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }

      + azure_files_authentication {
          + directory_type = "AD"

          + active_directory (known after apply)
        }

      + blob_properties (known after apply)

      + network_rules {
          + bypass                     = (known after apply)
          + default_action             = "Deny"
          + ip_rules                   = [
              + "172.119.179.173",
              + "35.134.145.242",
              + "47.180.141.242",
              + "52.248.96.7",
              + "65.87.34.242",
            ]
          + virtual_network_subnet_ids = [
              + "/subscriptions/58e2361d-344c-4e85-b45b-c7435e9e2a42/resourceGroups/int-prod-rg/providers/Microsoft.Network/virtualNetworks/intertel-prod-scus-vnet/subnets/intertel-prod-mgmt-scus-snet",
              + "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-avd-scus-snet",
              + "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-internal-scus-snet",
            ]
        }

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)
    }

  # azurerm_storage_account.file_storage_profiles will be created
  + resource "azurerm_storage_account" "file_storage_profiles" {
      + access_tier                       = (known after apply)
      + account_kind                      = "StorageV2"
      + account_replication_type          = "LRS"
      + account_tier                      = "Standard"
      + allow_nested_items_to_be_public   = true
      + cross_tenant_replication_enabled  = true
      + default_to_oauth_authentication   = false
      + enable_https_traffic_only         = true
      + id                                = (known after apply)
      + infrastructure_encryption_enabled = false
      + is_hns_enabled                    = false
      + large_file_share_enabled          = true
      + location                          = "southcentralus"
      + min_tls_version                   = "TLS1_2"
      + name                              = "stgintprofiles01"
      + nfsv3_enabled                     = false
      + primary_access_key                = (sensitive value)
      + primary_blob_connection_string    = (sensitive value)
      + primary_blob_endpoint             = (known after apply)
      + primary_blob_host                 = (known after apply)
      + primary_connection_string         = (sensitive value)
      + primary_dfs_endpoint              = (known after apply)
      + primary_dfs_host                  = (known after apply)
      + primary_file_endpoint             = (known after apply)
      + primary_file_host                 = (known after apply)
      + primary_location                  = (known after apply)
      + primary_queue_endpoint            = (known after apply)
      + primary_queue_host                = (known after apply)
      + primary_table_endpoint            = (known after apply)
      + primary_table_host                = (known after apply)
      + primary_web_endpoint              = (known after apply)
      + primary_web_host                  = (known after apply)
      + public_network_access_enabled     = true
      + queue_encryption_key_type         = "Service"
      + resource_group_name               = "int-staging-rg"
      + secondary_access_key              = (sensitive value)
      + secondary_blob_connection_string  = (sensitive value)
      + secondary_blob_endpoint           = (known after apply)
      + secondary_blob_host               = (known after apply)
      + secondary_connection_string       = (sensitive value)
      + secondary_dfs_endpoint            = (known after apply)
      + secondary_dfs_host                = (known after apply)
      + secondary_file_endpoint           = (known after apply)
      + secondary_file_host               = (known after apply)
      + secondary_location                = (known after apply)
      + secondary_queue_endpoint          = (known after apply)
      + secondary_queue_host              = (known after apply)
      + secondary_table_endpoint          = (known after apply)
      + secondary_table_host              = (known after apply)
      + secondary_web_endpoint            = (known after apply)
      + secondary_web_host                = (known after apply)
      + sftp_enabled                      = false
      + shared_access_key_enabled         = true
      + table_encryption_key_type         = "Service"
      + tags                              = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }

      + azure_files_authentication {
          + directory_type = "AD"

          + active_directory (known after apply)
        }

      + blob_properties (known after apply)

      + network_rules {
          + bypass                     = (known after apply)
          + default_action             = "Deny"
          + ip_rules                   = [
              + "172.119.179.173",
              + "35.134.145.242",
              + "47.180.141.242",
              + "52.248.96.7",
              + "65.87.34.242",
            ]
          + virtual_network_subnet_ids = [
              + "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-avd-scus-snet",
              + "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-internal-scus-snet",
            ]
        }

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)
    }

  # azurerm_storage_share.file_share["clientapps"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "clientapps"
      + quota                = 100
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["codocuments"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "codocuments"
      + quota                = 1
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["emailattachments"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "emailattachments"
      + quota                = 40
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["humanresources"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "humanresources"
      + quota                = 1
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["itdept"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "itdept"
      + quota                = 1
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["netdata"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "netdata"
      + quota                = 105
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["optifiles"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "optifiles"
      + quota                = 1
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["reportgeneration"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "reportgeneration"
      + quota                = 290
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_share["tloxml"] will be created
  + resource "azurerm_storage_share" "file_share" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "tloxml"
      + quota                = 5
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintfiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_storage_profiles["mgmt"] will be created
  + resource "azurerm_storage_share" "file_storage_profiles" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "mgmt"
      + quota                = 5
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintprofiles01"
      + url                  = (known after apply)
    }

  # azurerm_storage_share.file_storage_profiles["profiles01"] will be created
  + resource "azurerm_storage_share" "file_storage_profiles" {
      + access_tier          = "TransactionOptimized"
      + enabled_protocol     = "SMB"
      + id                   = (known after apply)
      + metadata             = (known after apply)
      + name                 = "profiles01"
      + quota                = 100
      + resource_manager_id  = (known after apply)
      + storage_account_name = "stgintprofiles01"
      + url                  = (known after apply)
    }

  # azurerm_subnet_route_table_association.avd_snet_rt_association must be replaced
-/+ resource "azurerm_subnet_route_table_association" "avd_snet_rt_association" {
      ~ id             = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-avd-scus-snet" -> (known after apply)
      ~ route_table_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/networkservices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" -> "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/NetworkServices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" # forces replacement
        # (1 unchanged attribute hidden)
    }

  # azurerm_subnet_route_table_association.dmz_snet_rt_association must be replaced
-/+ resource "azurerm_subnet_route_table_association" "dmz_snet_rt_association" {
      ~ id             = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-dmz-scus-snet" -> (known after apply)
      ~ route_table_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/networkservices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" -> "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/NetworkServices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" # forces replacement
        # (1 unchanged attribute hidden)
    }

  # azurerm_subnet_route_table_association.internal_snet_rt_association must be replaced
-/+ resource "azurerm_subnet_route_table_association" "internal_snet_rt_association" {
      ~ id             = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-internal-scus-snet" -> (known after apply)
      ~ route_table_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/networkservices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" -> "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/NetworkServices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" # forces replacement
        # (1 unchanged attribute hidden)
    }

  # azurerm_subnet_route_table_association.mgmt_snet_rt_association must be replaced
-/+ resource "azurerm_subnet_route_table_association" "mgmt_snet_rt_association" {
      ~ id             = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Network/virtualNetworks/intertel-staging-scus-vnet/subnets/intertel-staging-mgmt-scus-snet" -> (known after apply)
      ~ route_table_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/networkservices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" -> "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/NetworkServices-dev-scus-rg/providers/Microsoft.Network/routeTables/dev-scus-rt" # forces replacement
        # (1 unchanged attribute hidden)
    }

  # azurerm_virtual_desktop_application_group.pooled_host_pool_dag["STIN-AVD-MgP"] will be created
  + resource "azurerm_virtual_desktop_application_group" "pooled_host_pool_dag" {
      + default_desktop_display_name = "STAGING INTERTEL AVD Mgmt Personal"
      + description                  = "Desktop application group for STIN-AVD-MgP"
      + friendly_name                = "STIN-AVD-MgP-dag"
      + host_pool_id                 = (known after apply)
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + name                         = "STIN-AVD-MgP-dag"
      + resource_group_name          = "int-staging-rg"
      + type                         = "Desktop"
    }

  # azurerm_virtual_desktop_application_group.pooled_host_pool_dag["STIN-AVD-MgS"] will be created
  + resource "azurerm_virtual_desktop_application_group" "pooled_host_pool_dag" {
      + default_desktop_display_name = "STAGING INTERTEL AVD Mgmt Shared"
      + description                  = "Desktop application group for STIN-AVD-MgS"
      + friendly_name                = "STIN-AVD-MgS-dag"
      + host_pool_id                 = (known after apply)
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + name                         = "STIN-AVD-MgS-dag"
      + resource_group_name          = "int-staging-rg"
      + type                         = "Desktop"
    }

  # azurerm_virtual_desktop_application_group.pooled_host_pool_dag["STIN-AVD-Std"] must be replaced
-/+ resource "azurerm_virtual_desktop_application_group" "pooled_host_pool_dag" {
      ~ host_pool_id                 = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/hostPools/STIN-AVD-Std" -> (known after apply) # forces replacement
      ~ id                           = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/applicationGroups/STIN-AVD-Std-dag" -> (known after apply)
        name                         = "STIN-AVD-Std-dag"
      - tags                         = {} -> null
        # (6 unchanged attributes hidden)
    }

  # azurerm_virtual_desktop_host_pool.pooled_host_pool["STIN-AVD-MgP"] will be created
  + resource "azurerm_virtual_desktop_host_pool" "pooled_host_pool" {
      + custom_rdp_properties            = "drivestoredirect:s:;audiomode:i:0;videoplaybackmode:i:1;redirectclipboard:i:1;redirectprinters:i:0;devicestoredirect:s:*;redirectcomports:i:0;redirectsmartcards:i:0;usbdevicestoredirect:s:;enablecredsspsupport:i:1;audiocapturemode:i:1;use multimon:i:1;camerastoredirect:s:;enablerdsaadauth:i:1;"
      + description                      = "AVD personal host pool for Intertel Mgmt"
      + friendly_name                    = "STIN-AVD-MgP"
      + id                               = (known after apply)
      + load_balancer_type               = "Persistent"
      + location                         = "southcentralus"
      + maximum_sessions_allowed         = 999999
      + name                             = "STIN-AVD-MgP"
      + personal_desktop_assignment_type = "Automatic"
      + preferred_app_group_type         = "Desktop"
      + resource_group_name              = "int-staging-rg"
      + start_vm_on_connect              = true
      + tags                             = {
          + "Migrate Project"    = "INT-MigProject-01"
          + "OffPeakConcurrency" = "1"
          + "PeakConcurrency"    = "1"
          + "domain"             = "intertel"
          + "environment"        = "staging"
          + "managed by"         = "terraform"
          + "owner"              = "Greg Johnson"
        }
      + type                             = "Personal"
      + validate_environment             = true
    }

  # azurerm_virtual_desktop_host_pool.pooled_host_pool["STIN-AVD-MgS"] will be created
  + resource "azurerm_virtual_desktop_host_pool" "pooled_host_pool" {
      + custom_rdp_properties    = "drivestoredirect:s:;audiomode:i:0;videoplaybackmode:i:1;redirectclipboard:i:1;redirectprinters:i:0;devicestoredirect:s:*;redirectcomports:i:0;redirectsmartcards:i:0;usbdevicestoredirect:s:;enablecredsspsupport:i:1;audiocapturemode:i:1;use multimon:i:1;camerastoredirect:s:;enablerdsaadauth:i:1;"
      + description              = "AVD shared host pool for Intertel Mgmt"
      + friendly_name            = "STIN-AVD-MgS"
      + id                       = (known after apply)
      + load_balancer_type       = "BreadthFirst"
      + location                 = "southcentralus"
      + maximum_sessions_allowed = 12
      + name                     = "STIN-AVD-MgS"
      + preferred_app_group_type = "Desktop"
      + resource_group_name      = "int-staging-rg"
      + start_vm_on_connect      = true
      + tags                     = {
          + "Migrate Project"    = "INT-MigProject-01"
          + "OffPeakConcurrency" = "1"
          + "PeakConcurrency"    = "1"
          + "domain"             = "intertel"
          + "environment"        = "staging"
          + "managed by"         = "terraform"
          + "owner"              = "Greg Johnson"
        }
      + type                     = "Pooled"
      + validate_environment     = true
    }

  # azurerm_virtual_desktop_host_pool.pooled_host_pool["STIN-AVD-PER"] will be updated in-place
  ~ resource "azurerm_virtual_desktop_host_pool" "pooled_host_pool" {
      ~ custom_rdp_properties            = "drivestoredirect:s:;audiomode:i:0;videoplaybackmode:i:1;redirectclipboard:i:1;redirectprinters:i:0;devicestoredirect:s:*;redirectcomports:i:0;redirectsmartcards:i:0;usbdevicestoredirect:s:;enablecredsspsupport:i:1;audiocapturemode:i:1;use multimon:i:1;camerastoredirect:s:;enablerdsaadauth:i:1;redirectwebauthn:i:1;" -> "drivestoredirect:s:;audiomode:i:0;videoplaybackmode:i:1;redirectclipboard:i:1;redirectprinters:i:0;devicestoredirect:s:*;redirectcomports:i:0;redirectsmartcards:i:0;usbdevicestoredirect:s:;enablecredsspsupport:i:1;audiocapturemode:i:1;use multimon:i:1;camerastoredirect:s:;enablerdsaadauth:i:1;"
        id                               = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/hostPools/STIN-AVD-PER"
        name                             = "STIN-AVD-PER"
        tags                             = {
            "Migrate Project"    = "INT-MigProject-01"
            "OffPeakConcurrency" = "1"
            "PeakConcurrency"    = "1"
            "domain"             = "intertel"
            "environment"        = "staging"
            "managed by"         = "terraform"
            "owner"              = "Greg Johnson"
        }
        # (11 unchanged attributes hidden)
    }

  # azurerm_virtual_desktop_host_pool.pooled_host_pool["STIN-AVD-Std"] must be replaced
-/+ resource "azurerm_virtual_desktop_host_pool" "pooled_host_pool" {
      ~ id                               = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/hostPools/STIN-AVD-Std" -> (known after apply)
        name                             = "STIN-AVD-Std"
      ~ preferred_app_group_type         = "None" -> "Desktop" # forces replacement
        tags                             = {
            "Migrate Project"    = "INT-MigProject-01"
            "OffPeakConcurrency" = "1"
            "PeakConcurrency"    = "1"
            "domain"             = "intertel"
            "environment"        = "staging"
            "managed by"         = "terraform"
            "owner"              = "Greg Johnson"
        }
        # (11 unchanged attributes hidden)
    }

  # azurerm_virtual_desktop_host_pool_registration_info.pooled_host_pool_registration["STIN-AVD-MgP"] will be created
  + resource "azurerm_virtual_desktop_host_pool_registration_info" "pooled_host_pool_registration" {
      + expiration_date = (known after apply)
      + hostpool_id     = (known after apply)
      + id              = (known after apply)
      + token           = (sensitive value)
    }

  # azurerm_virtual_desktop_host_pool_registration_info.pooled_host_pool_registration["STIN-AVD-MgS"] will be created
  + resource "azurerm_virtual_desktop_host_pool_registration_info" "pooled_host_pool_registration" {
      + expiration_date = (known after apply)
      + hostpool_id     = (known after apply)
      + id              = (known after apply)
      + token           = (sensitive value)
    }

  # azurerm_virtual_desktop_host_pool_registration_info.pooled_host_pool_registration["STIN-AVD-PER"] will be created
  + resource "azurerm_virtual_desktop_host_pool_registration_info" "pooled_host_pool_registration" {
      + expiration_date = (known after apply)
      + hostpool_id     = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/hostPools/STIN-AVD-PER"
      + id              = (known after apply)
      + token           = (sensitive value)
    }

  # azurerm_virtual_desktop_host_pool_registration_info.pooled_host_pool_registration["STIN-AVD-Std"] will be created
  + resource "azurerm_virtual_desktop_host_pool_registration_info" "pooled_host_pool_registration" {
      + expiration_date = (known after apply)
      + hostpool_id     = (known after apply)
      + id              = (known after apply)
      + token           = (sensitive value)
    }

  # azurerm_virtual_desktop_workspace_application_group_association.pooled_host_pool_dag_ws_connect["STIN-AVD-MgP"] will be created
  + resource "azurerm_virtual_desktop_workspace_application_group_association" "pooled_host_pool_dag_ws_connect" {
      + application_group_id = (known after apply)
      + id                   = (known after apply)
      + workspace_id         = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/workspaces/Intertel-Staging"
    }

  # azurerm_virtual_desktop_workspace_application_group_association.pooled_host_pool_dag_ws_connect["STIN-AVD-MgS"] will be created
  + resource "azurerm_virtual_desktop_workspace_application_group_association" "pooled_host_pool_dag_ws_connect" {
      + application_group_id = (known after apply)
      + id                   = (known after apply)
      + workspace_id         = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/workspaces/Intertel-Staging"
    }

  # azurerm_virtual_desktop_workspace_application_group_association.pooled_host_pool_dag_ws_connect["STIN-AVD-Std"] must be replaced
-/+ resource "azurerm_virtual_desktop_workspace_application_group_association" "pooled_host_pool_dag_ws_connect" {
      ~ application_group_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/applicationGroups/STIN-AVD-Std-dag" -> (known after apply) # forces replacement
      ~ id                   = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/workspaces/Intertel-Staging|/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.DesktopVirtualization/applicationGroups/STIN-AVD-Std-dag" -> (known after apply)
        # (1 unchanged attribute hidden)
    }

  # azurerm_virtual_machine.imported-vms["ST-UTILSRV01"] will be updated in-place
  ~ resource "azurerm_virtual_machine" "imported-vms" {
        id                               = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/ST-UTILSRV01"
        name                             = "ST-UTILSRV01"
      ~ tags                             = {
            "Migrate Project" = "INT-MigProject-01"
          - "Offline"         = "No" -> null
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (9 unchanged attributes hidden)

        # (2 unchanged blocks hidden)
    }

  # azurerm_virtual_machine_data_disk_attachment.vm-sql-disks-attach["logs"] will be created
  + resource "azurerm_virtual_machine_data_disk_attachment" "vm-sql-disks-attach" {
      + caching                   = "None"
      + create_option             = "Attach"
      + id                        = (known after apply)
      + lun                       = 2
      + managed_disk_id           = (known after apply)
      + virtual_machine_id        = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STINB2-SQL01"
      + write_accelerator_enabled = false
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_domain_join["STIN-AVD-MgP-1"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_domain_join" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgP-1-domain-join"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Compute"
      + settings                    = <<-EOT
            {
                  "Name": "intertel.local",
                  "OUPath": "OU=Staging,OU=IN-AVD-MgP,OU=Azure AVD,OU=Azure,DC=intertel,DC=local",
                  "User": "svc.directoryservice@intertel.local",
                  "Restart": "true",
                  "Options": "3"
                }
        EOT
      + type                        = "JsonADDomainExtension"
      + type_handler_version        = "1.3"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_domain_join["STIN-AVD-MgP-2"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_domain_join" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgP-2-domain-join"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Compute"
      + settings                    = <<-EOT
            {
                  "Name": "intertel.local",
                  "OUPath": "OU=Staging,OU=IN-AVD-MgP,OU=Azure AVD,OU=Azure,DC=intertel,DC=local",
                  "User": "svc.directoryservice@intertel.local",
                  "Restart": "true",
                  "Options": "3"
                }
        EOT
      + type                        = "JsonADDomainExtension"
      + type_handler_version        = "1.3"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_domain_join["STIN-AVD-MgS-1"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_domain_join" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgS-1-domain-join"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Compute"
      + settings                    = <<-EOT
            {
                  "Name": "intertel.local",
                  "OUPath": "OU=Staging,OU=IN-AVD-MgS,OU=Azure AVD,OU=Azure,DC=intertel,DC=local",
                  "User": "svc.directoryservice@intertel.local",
                  "Restart": "true",
                  "Options": "3"
                }
        EOT
      + type                        = "JsonADDomainExtension"
      + type_handler_version        = "1.3"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-MgP-1"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgP-1-dsc"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Powershell"
      + settings                    = jsonencode(
            {
              + configurationFunction = "Configuration.ps1\\AddSessionHost"
              + modulesUrl            = "https://wvdportalstorageblob.blob.core.windows.net/galleryartifacts/Configuration_09-08-2022.zip"
              + properties            = {
                  + HostPoolName = "STIN-AVD-MgP"
                }
            }
        )
      + type                        = "DSC"
      + type_handler_version        = "2.73"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-MgP-2"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgP-2-dsc"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Powershell"
      + settings                    = jsonencode(
            {
              + configurationFunction = "Configuration.ps1\\AddSessionHost"
              + modulesUrl            = "https://wvdportalstorageblob.blob.core.windows.net/galleryartifacts/Configuration_09-08-2022.zip"
              + properties            = {
                  + HostPoolName = "STIN-AVD-MgP"
                }
            }
        )
      + type                        = "DSC"
      + type_handler_version        = "2.73"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-MgS-1"] will be created
  + resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STIN-AVD-MgS-1-dsc"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Powershell"
      + settings                    = jsonencode(
            {
              + configurationFunction = "Configuration.ps1\\AddSessionHost"
              + modulesUrl            = "https://wvdportalstorageblob.blob.core.windows.net/galleryartifacts/Configuration_09-08-2022.zip"
              + properties            = {
                  + HostPoolName = "STIN-AVD-MgS"
                }
            }
        )
      + type                        = "DSC"
      + type_handler_version        = "2.73"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-PER-1"] will be updated in-place
  ~ resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
        id                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-PER-1/extensions/STIN-AVD-PER-1-dsc"
        name                        = "STIN-AVD-PER-1-dsc"
      ~ protected_settings          = (sensitive value)
        tags                        = {}
        # (8 unchanged attributes hidden)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-Std-1"] will be updated in-place
  ~ resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
        id                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-Std-1/extensions/STIN-AVD-Std-1-dsc"
        name                        = "STIN-AVD-Std-1-dsc"
      ~ protected_settings          = (sensitive value)
        tags                        = {}
        # (8 unchanged attributes hidden)
    }

  # azurerm_virtual_machine_extension.pooled_host_pool_dsc["STIN-AVD-Std-2"] will be updated in-place
  ~ resource "azurerm_virtual_machine_extension" "pooled_host_pool_dsc" {
        id                          = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-Std-2/extensions/STIN-AVD-Std-2-dsc"
        name                        = "STIN-AVD-Std-2-dsc"
      ~ protected_settings          = (sensitive value)
        tags                        = {}
        # (8 unchanged attributes hidden)
    }

  # azurerm_virtual_machine_extension.vms-domain-join["STINB2-MGT01"] will be created
  + resource "azurerm_virtual_machine_extension" "vms-domain-join" {
      + auto_upgrade_minor_version  = true
      + failure_suppression_enabled = false
      + id                          = (known after apply)
      + name                        = "STINB2-MGT01-domain-join"
      + protected_settings          = (sensitive value)
      + publisher                   = "Microsoft.Compute"
      + settings                    = <<-EOT
            {
                  "Name": "intertel.local",
                  "OUPath": "OU=Staging,OU=Azure Servers,OU=Azure,DC=intertel,DC=local",
                  "User": "svc.directoryservice@intertel.local",
                  "Restart": "true",
                  "Options": "3"
                }
        EOT
      + type                        = "JsonADDomainExtension"
      + type_handler_version        = "1.3"
      + virtual_machine_id          = (known after apply)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-MgP-1"] will be created
  + resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
      + admin_password               = (sensitive value)
      + admin_username               = "ONTAdmin"
      + allow_extension_operations   = true
      + computer_name                = (known after apply)
      + enable_automatic_updates     = true
      + extensions_time_budget       = "PT1H30M"
      + hotpatching_enabled          = false
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + max_bid_price                = -1
      + name                         = "STIN-AVD-MgP-1"
      + network_interface_ids        = (known after apply)
      + patch_assessment_mode        = "ImageDefault"
      + patch_mode                   = "AutomaticByOS"
      + platform_fault_domain        = -1
      + priority                     = "Regular"
      + private_ip_address           = (known after apply)
      + private_ip_addresses         = (known after apply)
      + provision_vm_agent           = true
      + proximity_placement_group_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
      + public_ip_address            = (known after apply)
      + public_ip_addresses          = (known after apply)
      + resource_group_name          = "int-staging-rg"
      + size                         = "Standard_B4ms"
      + source_image_id              = "/subscriptions/58e2361d-344c-4e85-b45b-c7435e9e2a42/resourceGroups/IT-Prod-RG/providers/Microsoft.Compute/galleries/Ont_Prod1_scus_scg/images/AVD-INT-Mgmt-Win10-img"
      + tags                         = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + timezone                     = "Central Standard Time"
      + virtual_machine_id           = (known after apply)

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + os_disk {
          + caching                   = "ReadWrite"
          + disk_size_gb              = (known after apply)
          + name                      = "stin-avd-mgp-1"
          + storage_account_type      = "Standard_LRS"
          + write_accelerator_enabled = false
        }

      + termination_notification (known after apply)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-MgP-2"] will be created
  + resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
      + admin_password               = (sensitive value)
      + admin_username               = "ONTAdmin"
      + allow_extension_operations   = true
      + computer_name                = (known after apply)
      + enable_automatic_updates     = true
      + extensions_time_budget       = "PT1H30M"
      + hotpatching_enabled          = false
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + max_bid_price                = -1
      + name                         = "STIN-AVD-MgP-2"
      + network_interface_ids        = (known after apply)
      + patch_assessment_mode        = "ImageDefault"
      + patch_mode                   = "AutomaticByOS"
      + platform_fault_domain        = -1
      + priority                     = "Regular"
      + private_ip_address           = (known after apply)
      + private_ip_addresses         = (known after apply)
      + provision_vm_agent           = true
      + proximity_placement_group_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
      + public_ip_address            = (known after apply)
      + public_ip_addresses          = (known after apply)
      + resource_group_name          = "int-staging-rg"
      + size                         = "Standard_B4ms"
      + source_image_id              = "/subscriptions/58e2361d-344c-4e85-b45b-c7435e9e2a42/resourceGroups/IT-Prod-RG/providers/Microsoft.Compute/galleries/Ont_Prod1_scus_scg/images/AVD-INT-Mgmt-Win10-img"
      + tags                         = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + timezone                     = "Central Standard Time"
      + virtual_machine_id           = (known after apply)

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + os_disk {
          + caching                   = "ReadWrite"
          + disk_size_gb              = (known after apply)
          + name                      = "stin-avd-mgp-2"
          + storage_account_type      = "Standard_LRS"
          + write_accelerator_enabled = false
        }

      + termination_notification (known after apply)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-MgS-1"] will be created
  + resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
      + admin_password               = (sensitive value)
      + admin_username               = "ONTAdmin"
      + allow_extension_operations   = true
      + computer_name                = (known after apply)
      + enable_automatic_updates     = true
      + extensions_time_budget       = "PT1H30M"
      + hotpatching_enabled          = false
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + max_bid_price                = -1
      + name                         = "STIN-AVD-MgS-1"
      + network_interface_ids        = (known after apply)
      + patch_assessment_mode        = "ImageDefault"
      + patch_mode                   = "AutomaticByOS"
      + platform_fault_domain        = -1
      + priority                     = "Regular"
      + private_ip_address           = (known after apply)
      + private_ip_addresses         = (known after apply)
      + provision_vm_agent           = true
      + proximity_placement_group_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
      + public_ip_address            = (known after apply)
      + public_ip_addresses          = (known after apply)
      + resource_group_name          = "int-staging-rg"
      + size                         = "Standard_B2ms"
      + source_image_id              = "/subscriptions/58e2361d-344c-4e85-b45b-c7435e9e2a42/resourceGroups/IT-Prod-RG/providers/Microsoft.Compute/galleries/Ont_Prod1_scus_scg/images/AVD-INT-Mgmt-Win10-img"
      + tags                         = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + timezone                     = "Central Standard Time"
      + virtual_machine_id           = (known after apply)

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + os_disk {
          + caching                   = "ReadWrite"
          + disk_size_gb              = (known after apply)
          + name                      = "stin-avd-mgs-1"
          + storage_account_type      = "Standard_LRS"
          + write_accelerator_enabled = false
        }

      + termination_notification (known after apply)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-PER-1"] will be updated in-place
  ~ resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
        id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-PER-1"
      - license_type                  = "Windows_Client" -> null
        name                          = "STIN-AVD-PER-1"
        tags                          = {
            "Migrate Project" = "INT-MigProject-01"
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (37 unchanged attributes hidden)

      - boot_diagnostics {
            # (1 unchanged attribute hidden)
        }

        # (2 unchanged blocks hidden)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-Std-1"] will be updated in-place
  ~ resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
        id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-Std-1"
      - license_type                  = "Windows_Client" -> null
        name                          = "STIN-AVD-Std-1"
      + proximity_placement_group_id  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
        tags                          = {
            "Migrate Project" = "INT-MigProject-01"
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (36 unchanged attributes hidden)

        # (2 unchanged blocks hidden)
    }

  # azurerm_windows_virtual_machine.pooled_host_pool_vms["STIN-AVD-Std-2"] will be updated in-place
  ~ resource "azurerm_windows_virtual_machine" "pooled_host_pool_vms" {
        id                            = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/virtualMachines/STIN-AVD-Std-2"
      - license_type                  = "Windows_Client" -> null
        name                          = "STIN-AVD-Std-2"
      + proximity_placement_group_id  = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
        tags                          = {
            "Migrate Project" = "INT-MigProject-01"
            "domain"          = "intertel"
            "environment"     = "staging"
            "managed by"      = "terraform"
            "owner"           = "Greg Johnson"
        }
        # (36 unchanged attributes hidden)

        # (2 unchanged blocks hidden)
    }

  # azurerm_windows_virtual_machine.vms["STINB2-MGT01"] will be created
  + resource "azurerm_windows_virtual_machine" "vms" {
      + admin_password               = (sensitive value)
      + admin_username               = "ONTAdmin"
      + allow_extension_operations   = true
      + computer_name                = (known after apply)
      + enable_automatic_updates     = false
      + extensions_time_budget       = "PT1H30M"
      + hotpatching_enabled          = false
      + id                           = (known after apply)
      + location                     = "southcentralus"
      + max_bid_price                = -1
      + name                         = "STINB2-MGT01"
      + network_interface_ids        = (known after apply)
      + patch_assessment_mode        = "ImageDefault"
      + patch_mode                   = "Manual"
      + platform_fault_domain        = -1
      + priority                     = "Regular"
      + private_ip_address           = (known after apply)
      + private_ip_addresses         = (known after apply)
      + provision_vm_agent           = true
      + proximity_placement_group_id = "/subscriptions/ffe5c17f-a5cd-46d5-8137-b8c02ee481af/resourceGroups/int-staging-rg/providers/Microsoft.Compute/proximityPlacementGroups/int-stg-ppg"
      + public_ip_address            = (known after apply)
      + public_ip_addresses          = (known after apply)
      + resource_group_name          = "int-staging-rg"
      + size                         = "Standard_B2ms"
      + tags                         = {
          + "Migrate Project" = "INT-MigProject-01"
          + "domain"          = "intertel"
          + "environment"     = "staging"
          + "managed by"      = "terraform"
          + "owner"           = "Greg Johnson"
        }
      + timezone                     = "Central Standard Time"
      + virtual_machine_id           = (known after apply)

      + os_disk {
          + caching                   = "ReadWrite"
          + disk_size_gb              = (known after apply)
          + name                      = "STINB2-MGT01-disk-os"
          + storage_account_type      = "Premium_LRS"
          + write_accelerator_enabled = false
        }

      + source_image_reference {
          + offer     = "WindowsServer"
          + publisher = "MicrosoftWindowsServer"
          + sku       = "2019-Datacenter"
          + version   = "latest"
        }

      + termination_notification (known after apply)
    }

Plan: 55 to add, 15 to change, 12 to destroy.